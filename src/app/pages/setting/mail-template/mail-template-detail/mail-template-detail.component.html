<div class="content-header with-shadow">
  <h3>Mail Template </h3>
</div>
<nb-card>
  <nb-card-header>
    {{itemDialog.refAction?.name}}
  </nb-card-header>
  <nb-card-body>
    <div class="row">
      <div class="col-md-6">
        <div class="form-control-group">
          <label class="label">Header <span style="color:red">*</span></label>
          <input type="text" [(ngModel)]="itemDialog.name" nbInput fullWidth placeholder="name">
          <small *ngIf="touched" class="text-red">{{ sErrorHeader }}</small>
        </div>
        <div class="form-control-group">
          <label class="label">Subject <span style="color:red">*</span></label>
          <input type="text" [(ngModel)]="itemDialog.subject" nbInput fullWidth placeholder="subject">
          <small *ngIf="touched" class="text-red">{{ sErrorSubject }}</small>
        </div>
        <div class="form-control-group">
          <label class="label">Where</label>
          <nb-radio-group [(ngModel)]="itemDialog.type">
            <nb-radio value="true">Internal</nb-radio>
            <nb-radio value="false">External</nb-radio>
          </nb-radio-group>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-control-group">
          <label class="label">Remark</label>
          <input type="text" [(ngModel)]="itemDialog.remark" nbInput fullWidth placeholder="remark">
        </div>
        <div class="form-control-group" [ngClass]="{ 'has-error': sErrorcc }">
          <label class="label">CC<small>(After input email please press enter)</small></label>
          <!-- <tag-input [(ngModel)]="itemDialog.cc" secondaryPlaceholder="Enter a email" placeholder="+"
            [ngModelOptions]="{ standalone: true }">
          </tag-input> -->
          <mat-form-field appearance="outline">
            <mat-chip-list #chipList>
              <mat-chip *ngFor="let keyword of itemDialog.cc; let iKeyword = index;" [selectable]="true"
                [removable]="true" (removed)="removeKeyword(itemDialog.cc, iKeyword)">
                {{ keyword }}
                <mat-icon matChipRemove>cancel</mat-icon>
              </mat-chip>
              <input placeholder="+" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                [matChipInputAddOnBlur]="true" (matChipInputTokenEnd)="addKeyword(itemDialog.cc, $event)" required>
            </mat-chip-list>
            <mat-hint *ngIf="touched" class="text-red">{{ sErrorcc }}</mat-hint>
          </mat-form-field>
          <!-- <small *ngIf="touched" class="text-red">{{ sErrorcc }}</small> -->
        </div>
        <div class="form-control-group" [ngClass]="{ 'has-error': sErrorBcc }">
          <label class="label">BCC<small>(After input email please press enter)</small></label>
          <!-- <tag-input [(ngModel)]="itemDialog.bcc" secondaryPlaceholder="Enter a email" placeholder="+"
            [ngModelOptions]="{ standalone: true }">
          </tag-input> -->
          <mat-form-field appearance="outline">
            <mat-chip-list #chipList>
              <mat-chip *ngFor="let keyword of itemDialog.bcc; let iKeyword = index;" [selectable]="true"
                [removable]="true" (removed)="removeKeyword(itemDialog.bcc, iKeyword)">
                {{ keyword }}
                <mat-icon matChipRemove>cancel</mat-icon>
              </mat-chip>
              <input placeholder="+" [matChipInputFor]="chipList" [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                [matChipInputAddOnBlur]="true" (matChipInputTokenEnd)="addKeyword(itemDialog.bcc, $event)" required>
            </mat-chip-list>
            <mat-hint *ngIf="touched" class="text-red">{{ sErrorBcc }}</mat-hint>
          </mat-form-field>
          <!-- <small *ngIf="touched" class="text-red">{{ sErrorBcc }}</small> -->
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div mat-dialog-content class="mat-typography">
          <angular-editor placeholder="'Enter text here...'" [(ngModel)]="itemDialog.html" [config]="editorConfig">
          </angular-editor>
        </div>
      </div>
    </div>
  </nb-card-body>
  <nb-card-footer>
    <button nbButton status="default" (click)="back()">Cancel</button>
    <button nbButton status="success" (click)="save()">Save</button>
  </nb-card-footer>
</nb-card>